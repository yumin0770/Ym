<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품 추가</title>

    <style>
        table{
            border-collapse: collapse;
        }
    </style>
</head>
<body>

    <h1>상품 추가</h1>
    <button id="addBtn">새로운 상품 추가</button>
    
    <hr>

    <table border="1">
        <thead>
            <tr>
                <th>상품명</th>
                <th>가격(원)</th>
            </tr>
        </thead>

        <tbody class="container">
            <tr>
                <td>  <input type="text" class="pName">  </td>
                <td>  <input type="number" class="price">  </td>
            </tr>
        </tbody>
    </table>

    <hr>
    <button id="resultBtn">결과 확인</button>
    
    <h3>상품 개수 : <span id="amount"></span></h3>
    <h3>전체 가격 : <span id="sum"></span></h3>


    <script>
 
        const addBtn = document.getElementById('addBtn');
        const container = document.getElementsByClassName("container")[0];

        addBtn.addEventListener('click',()=>{

            const tr = document.createElement('tr');
            const td1 = document.createElement('td');
            const td2 = document.createElement('td');
            const input1 = document.createElement('input');
            const input2 = document.createElement('input');

            input1.setAttribute('type','text');
            input2.setAttribute('type','number');

            input1.classList.add('pName');
            input2.classList.add('price');

            td1.append(input1);
            td2.append(input2);

            tr.append(td1);
            tr.append(td2);

            container.append(tr);

        });


        const resultBtn =document.getElementById("resultBtn");
        const amountSpan = document.getElementById("amount");
        const sumSpan = document.getElementById("sum");

        resultBtn.addEventListener('click',()=>{

            const priceList = document.getElementsByClassName('price');
            amountSpan.innerText =  priceList.length;

            sum =0;

            for(let p of priceList){
                sum+=Number(p.value);

                sumSpan.innerText = sum;
            }

        });



    </script>
</body>
</html>